(this["webpackJsonpstorm-chess"]=this["webpackJsonpstorm-chess"]||[]).push([[0],{19:function(e,t,n){e.exports=n(27)},24:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(11),c=n.n(o),u=(n(24),n(6)),i=n(7),l=n(2),s=n(4),f=n(12),m=n.n(f),v=n(18),p=n(13),b=n(14),d=["a1","a2","a3","a4","a5","a6","a7","a8","h1","h2","h3","h4","h5","h6","h7","h8","b1","c1","d1","e1","f1","g1","b8","c8","d8","e8","f8","g8","b2","b3","b4","b5","b6","b7","g2","g3","g4","g5","g6","g7","c2","d2","e2","f2","c7","d7","e7","f7","c3","d3","e3","f3","c6","d6","e6","f6","c4","c5","f4","f5","d4","e4","d5","e5"],h=new(n.n(b).a),g=[15,25,35,45],O={background:"radial-gradient(circle, #fffc00 36%, transparent 40%)",borderRadius:"50%"},S={background:"#003366",opacity:"70%"},j=new function(){var e=0,t=!1,n=d,r=[],a=0;function o(){return h.half_moves>=100||function(){for(var e=0,t=0;t<n.length;t++)e+=c(n[t]).length;return 0===e}()||h.in_stalemate()||h.insufficient_material()}function c(t){var r=[],o=n.slice();if(Math.floor(a)+1===g[e]){var c=16-4*e;if(e>=2&&(c=20-4*e),o.splice(0,c).some((function(e){var t=h.get(e);return t&&"k"===t.type&&t.color===h.turn()}))){var u=h.get(t);u&&"k"!==u.type&&(o=[])}}var i,l=h.moves({square:t,verbose:!0}),s=Object(p.a)(l);try{for(s.s();!(i=s.n()).done;){var f=i.value;o.includes(f.to)&&r.push(f.to)}}catch(m){s.e(m)}finally{s.f()}return r}return Object(l.a)(Object(l.a)({},h),{},{move:function(u){var i=u.sourceSquare,l=u.targetSquare,s=h.turn(),f=Math.floor(e/2);if(c(i).includes(l)){if(h.move({from:i,to:l,promotion:"q"}),a+=.5,e>1&&(l.includes((f+1).toString())||l.includes((8-f).toString()))){var m=h.get(l);m&&"p"===m.type&&(h.remove(l),h.put({type:"q",color:s},l))}g.includes(a)&&function(){var t=16-4*e;e>=2&&(t=20-4*e);for(var a=0;a<t;a++)h.remove(n[a]);r.push.apply(r,Object(v.a)(n.splice(0,t))),e+=1}(),t=o()}},moves:c,status:function(){return{stormLevel:e,gameOver:t,liveSquares:n,zappedSquares:r,turn:a}}})};function y(){var e=Object(r.useState)(j.status()),t=Object(s.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)("start"),u=Object(s.a)(c,2),i=u[0],f=u[1],v=Object(r.useState)({}),p=Object(s.a)(v,2),b=p[0],d=p[1],h=Object(r.useState)("white"),y=Object(s.a)(h,2),E=y[0],q=y[1],w=function(e){var t=e.possibleMoves;return Object(l.a)(Object(l.a)({},Object.fromEntries(t.map((function(e){return[e,O]})))),Object.fromEntries(n.zappedSquares.map((function(e){return[e,S]}))))};return a.a.createElement(a.a.Fragment,null,a.a.createElement(m.a,{position:i,squareStyles:b,onMouseOverSquare:function(e){d(w({possibleMoves:j.moves(e)}))},onMouseOutSquare:function(){d(w({possibleMoves:[]}))},onDrop:function(e){var t=e.sourceSquare,n=e.targetSquare;null!==j.move({sourceSquare:t,targetSquare:n})&&(f(j.fen()),o(j.status()),d(w({possibleMoves:[]})))},orientation:E}),a.a.createElement("div",null,a.a.createElement("p",null,"Turn: ",Math.floor(n.turn)),a.a.createElement("p",null,"Turns until next storm:"," ",g[n.stormLevel]-Math.floor(n.turn)),a.a.createElement("p",null,"Player to move: ","b"===j.turn()?"Black":"White"),a.a.createElement("button",{type:"button",onClick:function(){return q("white"===E?"black":"white")}},"Flip board")))}function E(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin: 16px;\n"]);return E=function(){return e},e}function q(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-size: calc(10px + 2vmin);\n  margin: 16px;\n"]);return q=function(){return e},e}var w=i.a.header(q()),k=i.a.main(E());var x=function(){return a.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.a.createElement(w,null,a.a.createElement("div",null,"Storm Chess")),a.a.createElement(k,null,a.a.createElement(y,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.53b3302d.chunk.js.map