(this["webpackJsonpstorm-chess"]=this["webpackJsonpstorm-chess"]||[]).push([[0],{17:function(e,n,t){e.exports=t(25)},22:function(e,n,t){},25:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(10),c=t.n(o),i=(t(22),t(5)),u=t(6),s=t(1),l=t(4),f=t(11),m=t.n(f),v=t(12),d=t(13),p=["a1","a2","a3","a4","a5","a6","a7","a8","h1","h2","h3","h4","h5","h6","h7","h8","b1","c1","d1","e1","f1","g1","b8","c8","d8","e8","f8","g8","b2","b3","b4","b5","b6","b7","g2","g3","g4","g5","g6","g7","c2","d2","e2","f2","c7","d7","e7","f7","c3","d3","e3","f3","c6","d6","e6","f6","c4","c5","f4","f5","d4","e4","d5","e5"],b=new(t.n(d).a),g=[15,25,35,45],h=function(){var e=0,n=!1,t=p,r=[],a=0;function o(){return b.half_moves>=100||c()||b.in_stalemate()||b.insufficient_material()}function c(){for(var e=0,n=0;n<t.length;n++)e+=i(t[n]).length;return 0===e}function i(n){var r=[],o=t.slice();if(Math.floor(a)+1===g[e]){var c=16-4*e;if(e>=2&&(c=20-4*e),o.splice(0,c).some((function(e){var n=b.get(e);return n&&"k"===n.type&&n.color===b.turn()}))){var i=b.get(n);i&&"k"!==i.type&&(o=[])}}var u,s=b.moves({square:n,verbose:!0}),l=Object(v.a)(s);try{for(l.s();!(u=l.n()).done;){var f=u.value;o.includes(f.to)&&r.push(f.to)}}catch(m){l.e(m)}finally{l.f()}return r}function u(){var n=16-4*e;e>=2&&(n=20-4*e);for(var a=0;a<n;a++)b.remove(t[a]);r.concat(t.splice(0,n)),e+=1}return Object(s.a)(Object(s.a)({},b),{},{in_checkmate:c,game_over:o,move:function(t){var r=t.sourceSquare,c=t.targetSquare,s=b.turn(),l=Math.floor(e/2);if(i(r).includes(c)){if(b.move({from:r,to:c,promotion:"q"}),a+=.5,e>1&&(c.includes((l+1).toString())||c.includes((8-l).toString()))){var f=b.get(c);f&&"p"===f.type&&(b.remove(c),b.put({type:"q",color:s},c))}g.includes(a)&&u(),n=o()}},moves:i,zap:u,stormLevel:e,gameOver:n,liveSquares:t,zappedSquares:r,turn:a})},O={background:"radial-gradient(circle, #fffc00 36%, transparent 40%)",borderRadius:"50%"},S={background:"radial-gradient(circle, #000000 36%, transparent 40%)",borderRadius:"50%"};function j(){var e=Object(r.useState)(new h),n=Object(l.a)(e,1)[0],t=Object(r.useState)("start"),o=Object(l.a)(t,2),c=o[0],i=o[1],u=Object(r.useState)({}),f=Object(l.a)(u,2),v=f[0],d=f[1];Object(r.useEffect)((function(){}),[n.stormLevel]);var p=function(e){var t=e.possibleMoves;return Object(s.a)(Object(s.a)({},Object.fromEntries(t.map((function(e){return[e,O]})))),Object.fromEntries(n.zappedSquares.map((function(e){return[e,S]}))))};return a.a.createElement(m.a,{position:c,squareStyles:v,onMouseOverSquare:function(e){d(p({possibleMoves:n.moves(e)}))},onMouseOutSquare:function(){d(p({possibleMoves:[]}))},onDrop:function(e){var t=e.sourceSquare,r=e.targetSquare;null!==n.move({sourceSquare:t,targetSquare:r})&&(i(n.fen()),d({possibleMoves:[]}))}})}function q(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 16px;\n"]);return q=function(){return e},e}function y(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-size: calc(10px + 2vmin);\n  margin: 16px;\n"]);return y=function(){return e},e}var E=u.a.header(y()),w=u.a.main(q());var x=function(){return a.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.a.createElement(E,null,a.a.createElement("div",null,"Storm Chess")),a.a.createElement(w,null,a.a.createElement(j,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.4d3aa195.chunk.js.map